<div class="notifications-container">
  <button class="notification-bell" (click)="toggleDropdown()" title="Notifications">
    <span class="bell-icon">ðŸ””</span>
    <span *ngIf="unreadCount > 0" class="notification-badge">{{ unreadCount }}</span>
  </button>

  <div class="notifications-dropdown" *ngIf="showDropdown">
    <div class="dropdown-header">
      <h3>Notifications</h3>
      <button 
        *ngIf="unreadCount > 0" 
        (click)="markAllAsRead()" 
        class="mark-all-read"
      >
        Mark all as read
      </button>
    </div>

    <div class="notifications-list">
      <!-- Loading State -->
      <div *ngIf="loading && notifications.length === 0" class="loading-state">
        <div class="spinner"></div>
        <p>Loading notifications...</p>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loading && notifications.length === 0" class="empty-state">
        <span class="empty-icon">ðŸ”•</span>
        <p>No notifications yet</p>
        <span class="empty-text">You're all caught up!</span>
      </div>

      <!-- Notifications -->
      <div 
        *ngFor="let notification of notifications" 
        class="notification-item"
        [class.unread]="!notification.isRead"
        (click)="markAsRead(notification)"
      >
        <div class="notification-icon">
          {{ getNotificationIcon(notification.type) }}
        </div>
        <div class="notification-content">
          <div class="notification-title">{{ notification.title }}</div>
          <div class="notification-message">{{ notification.message }}</div>
          <div class="notification-time">{{ getTimeAgo(notification.createdAt) }}</div>
        </div>
        <div *ngIf="!notification.isRead" class="unread-indicator"></div>
      </div>
    </div>

    <div class="dropdown-footer" *ngIf="notifications.length > 5">
      <a href="#" class="view-all">View all notifications</a>
    </div>
  </div>
</div>
